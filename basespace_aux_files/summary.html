{% comment %}

	Welcome to the BaseSpace Report Builder!
	
	Click the "Help" button above for information on how to use the DotLiquid
	language to access data from the results generated by your app.
 
	This is your default summary template. You can enable or disable
	templates by selecting the "Options" button above.
	
	Below, we've included example code that demonstrates how
	to list your app results, and a link to the BaseSpace CSS,
	which is based on the Twitter Bootstrap library.
		
	-The BaseSpace team
	Feedback: https://developer.basespace.illumina.com/community/feedback
   
{% endcomment %}
<!doctype html>
<html>
<head>
	 <title>GATK3 Best Practices Report</title>
	 <link rel="stylesheet" type="text/css"
		href="https://da1s119xsxmu0.cloudfront.net/libraries/basestrap/1.0.0/css/master.min.css" />
	<style type="text/css">		
		sup {
			overflow: visible;
		}

		.blurb {
			z-index: 100;
			background: none repeat scroll 0 0 white;
			color: rgb(51, 51, 51);
			border-radius: 0 5px 5px 0;
			box-shadow: 2px 2px 5px black;
			font-size: 11px;
			line-height: 18px;
			max-height: 300px;
			overflow: auto;
			position: absolute;
			right: -295px;
			top: 30px;
			width: 350px;
			padding-left: 6px;
		}

		.blurb-content {
			margin: 10px;
		}
		
		.paged-table {
			margin-top : 6px ; 
			margin-bottom: 0px ; 
		}
		
		table.dataTable thead .sorting_asc,
		table.dataTable thead .sorting_desc,
		table.dataTable thead .sorting {
			cursor: pointer;
			*cursor: hand;			
		}
		table.dataTable thead th {
			border-bottom-width: 0px;
			border-bottom-color: rgb(179, 179, 179);
		}
		table.dataTable.no-footer {
			border-bottom: 0px solid #111111;
		}
		
		.axis path,
		.axis line {
		  fill: none;
		  stroke: #000;
		  shape-rendering: crispEdges;
		}
				
		.tooltip {
		  position: absolute;
		  width: 200px;
		  height: 28px;
		  pointer-events: none;
		}  
		
		.axis path,
		.axis line {
		  fill: none;
		  stroke: #000;
		}

		.tick.major line {
			stroke: "#aaa";
			stroke-width: 1;
		}
		
		.tooltipDiv {
			padding: 5px;
			background-color: white;
			border: 1px solid #aaa;
			border-radius: 5px;
			box-shadow: 4px 4px 2px #ccc;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<h1 class="bs-section-heading">
					GATK3 Best Practices Results
				</h1>
			</div>
		</div>   
		<br>
		<div class="row">
			::before
			<div class="col-sm-12">
				<h2 class="bs-section-heading">Input File(s)</h2>				 
				<div class="row">
						::before
					<div class="col-sm-12">
						<section class="bs-panel">
							<table class="table bs-table">
								<thead>
									<tr>
									{% for key in result.files %}
										{% if key contains 'Fils_Info.tsv' %}
											{% for column_name in result.files[key].parse.column_names %}
											<th>{{ column_name }}</th>
											{% endfor %}
										{% endif %}
									{% endfor %}
									</tr>
								</thead>
								 <tbody>
								{% for key in result.files %}
									{% if key contains 'File_Info.tsv' %}
										{% for row in result.files[key].parse.rows %}
										<tr>
											<td>{{ row }}</td>
										</tr>
										{% endfor %}
									{% endif %}
								{% endfor %}
								</tbody>
							</table>
						</section>
					</div>
					::after
				</div>
			</div>
			::after
		</div>  
		<br>
		<div class="row">
			<div class="col-sm-12">
				<h2 class="bs-section-heading">VCF Stats <sup><a href="#" class="infotext" id="inputstats"><span class="icomoon icon-info" style="font-size:10pt;"></span><div class="blurb" style="opacity: 0; display: none;"><div class="blurb-content"><table class="table bs-table" style="font-family:'pt-sans-regular';text-transform:none;"><thead><tr><th>Column</th><th>Definition</th></tr></thead><tbody><tr><td>Input Name</td><td>The name specified in the input form for each input VCF file.</td></tr><tr><td>Total SNP Count</td><td>Total number of SNPs in samples.</td></tr><tr><td>Het/Hom Ratio</td><td>Number of heterozygous SNPs / Number of homozygous SNPs</td></tr><tr><td>Insertions Count</td><td>Total number of insertions in samples.</td></tr><tr><td>Deletions Count</td><td>Total number of deletions in samples.</td></tr><tr><td>Indel Het/Hom Ratio</td><td>Number of heterozygous indels / Number of homozygous indels</td></tr><tr><td>Insertion/Deletion Ratio</td><td>100 * (Number of indels found in dbSNP / Number of indels). This column is only displayed if "Calculate Novelty Rates" was selected in the input form.</td></tr></tbody></table></div></div></a></sup></h2>
				<div class="row">
					<div class="col-sm-12">
						<section class="bs-panel">
							<table class="table bs-table">
								<thead>
									<tr>
									{% for key in result.files %}
										{% if key contains 'SNP_Info.tsv' %}
											{% for column_name in result.files[key].parse.column_names %}
											<th>{{ column_name }}</th>
											{% endfor %}
										{% endif %}
									{% endfor %}
									</tr>
								</thead>
								 <tbody>
								{% for key in result.files %}
									{% if key contains 'SNP_Info.tsv' %}
										{% for row in result.files[key].parse.rows %}
										<tr>
											<td>{{ row }}</td>
										</tr>
										{% endfor %}
									{% endif %}
								{% endfor %}
								</tbody>
							</table>
						</section>	  
					</div>
				</div>
			</div>
		</div>  
		<br>
	   <div class="row">
			<div class="col-sm-12">
				<h2 class="bs-section-heading">Ts/Tv Stats<table class="table bs-table" style="font-family:'pt-sans-regular';text-transform:none;"><thead><tr><th>Column</th><th>Definition</th></tr></thead><tbody><tr><td>Sample Name</td><td>The sample name.</td></tr><tr><td>Ts Count</td><td>Total number of transitions.</td></tr><tr><td>Tv Count</td><td>Total number of transversions.</td></tr><tr><td>Ts/Tv Ratio</td><td>Transition rate of SNPs / Transversion rate of SNPs.</td></tr>
				<div class="row">
					<div class="col-sm-12">
						<section class="bs-panel">
							<table class="table bs-table">
								<thead>
									<tr>
									{% for key in result.files %}
										{% if key contains 'TsTv_Info.tsv' %}
											{% for column_name in result.files[key].parse.column_names %}
											<th>{{ column_name }}</th>
											{% endfor %}
										{% endif %}
									{% endfor %}
									</tr>
								</thead>
								 <tbody>
								{% for key in result.files %}
									{% if key contains 'TsTv_Info.tsv' %}
										{% for row in result.files[key].parse.rows %}
										<tr>
											<td>{{ row }}</td>
										</tr>
										{% endfor %}
									{% endif %}
								{% endfor %}
								</tbody>
							</table>
						</section>	  
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
